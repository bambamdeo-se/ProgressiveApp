var ajaxRequestQueue=[],MessageType={Success:1,Error:2,Warning:3,None:4},ActionStatus={Success:200,Error:400};$(document).ready(function(){$(document).on("click",".msg-outer",function(){$(this).fadeOut()});$.ajaxSetup({cache:!1})});$.ShowThrobber=function(n,t){t==!0?($("#MainThrobberImage").show(),$("#lightbox_overlay").show()):$("#MainThrobberImage").show().position(n)};$.RemoveThrobber=function(){$("#MainThrobberImage").hide();$("#lightbox_overlay").hide()};$.ShowMessage=function(n,t,i){t!=null&&t!=undefined&&t!=""?i==MessageType.Success?($(n).html(t).removeClass("error").removeClass("info").addClass("success").parent().fadeIn(),$(n).parent().removeClass("bgred")):i==MessageType.Error?($(n).html(t).addClass("error").removeClass("success").removeClass("info").parent().fadeIn(),$(n).parent().addClass("bgred")):i==MessageType.Warning?($(n).html(t).removeClass("success").addClass("info").parent().fadeIn(),$(n).parent().removeClass("bgred"),$("html,body").animate({scrollTop:"0"},"slow")):$(n).html("").parent().hide():$(n).html("").parent().hide()};$.ajaxExt=function(n){function u(n,t,i,r){r.showErrorMessage!=!1?$.ShowMessage($(r.messageControl),"Unexpected Error",MessageType.Error):r.error!=undefined&&r.error("Unexpected Error");r.showThrobber==!0&&$.RemoveThrobber()}function f(){n.beforeSubmit()}function t(n,t){t.showThrobber==!0&&$.RemoveThrobber();try{if(n.Status==undefined)return t.showErrorMessage!=!1?$.ShowMessage($(t.messageControl),"Invalid data returned in the response",MessageType.Error):t.error!=undefined&&t.error("Invalid data returned in the response"),!1}catch(i){t.showErrorMessage!=!1?$.ShowMessage($(t.messageControl),"Invalid data returned in the response",MessageType.Error):t.error!=undefined&&t.error("Invalid data returned in the response")}n.Status==ActionStatus.Error?(t.successServerError!=undefined&&t.successServerError!=null&&t.successServerError(n),t.showErrorMessage!=!1&&$.ShowMessage($(t.messageControl),n.Message,MessageType.Error),n.Results!=undefined&&n.Results[0]=="LoginExipred"?window.location.href=n.Results[1]:t.error!=undefined&&t.error(n,n.Message)):t.success&&(t.forPopup==!0?($.OpenPopup(t,n.Results),$(".backgroundPopup").show()):($.ShowMessage($(t.messageControl),n.Message,MessageType.Success),t.success(n,n.Message)),setTimeout(function(){var n=$(".inner-popup").outerHeight();n>0&&$(".popupbox").css({height:n+"px"})},100))}var i,r;if(n.type=n.type==undefined?"POST":n.type,n.showErrorMessage=n.showErrorMessage==undefined?!1:n.showErrorMessage,n.showThrobber=n.showThrobber==undefined?!0:n.showThrobber,n.validate=n.validate==undefined?!1:n.validate,n.containFiles=n.containFiles==undefined?!1:n.containFiles,n.validate==!0&&(i=$(n.formToValidate).valid(),!i))return!1;if(n.showErrorMessage!=!1&&$.ShowMessage($(n.messageControl),"",MessageType.None),n.showThrobber==!0&&(n.throbberPosition==undefined&&(n.throbberPosition={my:"center center",at:"center center",of:$(window),offset:"5 0"}),$.ShowThrobber(n.throbberPosition,n.throbberCenter)),n.forPopup==!0&&n.html!=""&&n.html!=undefined)$(n.html).show();else{if(n.containFiles==!0)return $(n.formToPost).ajaxSubmit({target:n.messageControl,beforeSubmit:function(){n.beforeSubmit!=undefined&&n.beforeSubmit!=null&&f();$.ShowThrobber(n.throbberPosition,n.throbberCenter)},success:function(i){t(i,n)},url:n.url,type:n.type,dataType:"json",clearForm:!1,resetForm:!1,cache:!1}),!1;$("body").removeClass("SetOverflow");r=$.ajax({url:n.url,type:n.type,dataType:"json",cache:!1,data:n.data,error:function(t,i,r){$("#lightbox_overlay").hide();$("body").addClass("SetOverflow");u(t,i,r,n)},success:function(i){$("#lightbox_overlay").hide();$("body").addClass("SetOverflow");t(i,n)}});n.abort==!0&&ajaxRequestQueue.push(r)}};$.OpenPopup=function(n,t){var i=n.offsetX==undefined?"0":n.offsetX,r=n.offsetY==undefined?"0":n.offsetY,u;$("#lightBox div.popUpContent h4[name=Title]").html(n.title);$("#lightBox").show().position({my:"center center",at:"center center",of:$(window),offset:i+" "+r});$("#lightBox div.popUpContent div[name=ActualContent]").html(t[0]).css({"overflow-y":"auto","overflow-x":"hidden",width:n.width});$("#lightBox").show().position({my:"center center",at:"center center",of:$(window),offset:i+" "+r});$(".popUp .popUpContent .selectbox-section ul").css({width:n.width-4+"px"});u=$("#lightBox form:first");$.ResetUnobtrusiveValidation(u)};$.CenterPopupWindow=function(n){var e=n.offsetX==undefined?"0":n.offsetX,o=n.offsetY==undefined?"0":n.offsetY,i=$(window).height(),t=$(window).width(),r=n.height,u=(i-r)/2,f=(t-$("#lightBox").width())/2;$.ScrollToTop();setTimeout(function(){$("#lightBox").css({top:u,left:f}).css("max-width",t-50);$("#lightBox").fadeIn()},100)};$(document).on("click",".popupbox .inner-popup .close-btn",function(){$.ClosePopupWindow()});$.ClosePopupWindow=function(){$(".backgroundPopup").fadeOut(300);$("#lightBox").fadeOut(300);$("#lightbox_overlay").fadeOut(300);$("#lightBox").remove();$("#lightbox_overlay").remove();$("#lightbox_overlay").hide();$("body").addClass("SetOverFlow")};$.ResetUnobtrusiveValidation=function(n){n.removeData("validator");n.removeData("unobtrusiveValidation");$.validator.unobtrusive.parse(n)};String.prototype.trim||(String.prototype.trim=function(){return $.trim(this)});$.ScrollToTop=function(){$("html, body").animate({scrollTop:0},500)};